# Операционные требования (безопасность и комплаенс)

## Хранение секретов
- Не храните ключи API в `.env`. Используйте Vault/SOPS или Secret Manager (AWS/GCP). 
- Пример: `vault kv put cryptoia/api binance_key=... binance_secret=...`. На сервере — агент, подставляющий переменные окружения перед запуском.

## Контроль доступа
- Разделите роли: разработчики, операторы, аналитики.
- Telegram-бот: в базу `bot_users` добавьте флаг `accepted_disclaimer`. При отсутствии — отправляйте дисклеймер и не выдавайте сигналы.

## Бэкапы
- Postgres: `pg_dump` ежедневно (`ops/cron/pg_backup.sh`), хранить ≥30 дней.
- S3: включите versioning или периодический sync в холодное хранилище.
- Проверяйте восстановление бэкапов ежеквартально.

## Юридический дисклеймер
- Сообщение: «Информация носит образовательный характер, не является рекомендацией. Использование на свой риск».
- В Telegram-боте: требовать подтверждение кнопкой «Согласен» (записать timestamp).

## Журналы действий
- Логи системы храните ≥90 дней.
- Отдельно логируйте доступ к секретам/ключам.

## План Incident Response
1. Отключить `EXECUTE_LIVE` и перевести в paper-режим.
2. Сообщить команде/клиентам; указать оценку убытка.
3. Проанализировать `arbiter_reasoning`, `agent_performance`, логи LLM.
4. Обновить runbook.

Эти шаги обязательны перед коммерческим запуском.
